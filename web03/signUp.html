<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>회원가입</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
<style>
body, html { font-family: 'Noto Sans KR', sans-serif; }
.table { min-width:960px; }
#nav-group { border-bottom:1px solid #ddd; }
#gnb .navbar-link::after { content:""; display:none; }
#sidebar .navbar { display:block; width:100%; background-color:transparent; }
#sidebar .navbar-item { float:none; clear:both; display:block; width:100%; }
.navbar-item.has-dropdown.is-hoverable { min-width:110px; }
.navbar-item.has-dropdown.is-hoverable a { font-weight:800; }
.footer { display: block; width: 1344px; margin: 0 auto;}
.ft_logo { float:left;}
.ft_content { width: 900px; }
.select { margin-left: 10px; }
.mid_box { margin-top: 20px;}
.dpc { padding-right:34px;}
.addr { padding-top:20px;}
.copyright { width:800px;}
</style>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<style>
.title { padding-top:36px; padding-bottom:20px; }
#id { width:780px; float:left; margin-right:30px; margin-left:6px; }
</style>
</head>
<body>
<div id="nav-group">
	<div class="container">
		<nav class="navbar" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
              <a class="navbar-item" id="logo2" href="index.html">
              <img alt="상단로고" src="./data/logo.png">
              </a>
          
              <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
              </a>
            </div>		  
            
            <div id="navbarBasicExample" class="navbar-menu">
              <div class="navbar-start" id="gnb">
              
              <div class="navbar-item has-dropdown is-hoverable">
                  <a href="tourCateListA.html" class="navbar-link">
                  관광명소</a>
                  <div class="navbar-dropdown cate" id="cate01">
                       <a href="tourDetailA1.html" class="navbar-item">용흥사계곡</a>
                       <a href="tourDetailA2.html" class="navbar-item">관방제림</a>
                       <a href="tourDetailA3.html" class="navbar-item">가마골용소</a>					          
                  </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                  <a href="tourCateListB.html" class="navbar-link cate">
                  문화예술</a>
                  <div class="navbar-dropdown cate" id="cate02">
                       <a href="tourDetailB1.html" class="navbar-item">고하 송진우</a>
                       <a href="tourDetailB2.html" class="navbar-item">하서 김인후</a>
                       <a href="tourDetailB3.html" class="navbar-item">서하당 김성원</a>          
                  </div>
              </div>
              <div class="navbar-item has-dropdown is-hoverable">
                  <a href="tourCateListC.html" class="navbar-link cate">
                  인문학기행</a>
                  <div class="navbar-dropdown cate" id="cate03">
                       <a href="tourDetailC1.html" class="navbar-item">담양별빛달빛야행</a>
                       <a href="tourDetailC2.html" class="navbar-item">담양에서 일주일여행하기</a>					   
                  </div>
              </div>
              <div  class="navbar-item has-dropdown is-hoverable">
                  <a href="tourCateListD.html" class="navbar-link cate">
                  담양의 축제</a>
                  <div class="navbar-dropdown cate" id="cate04">
                       <a href="tourDetailD1.html" class="navbar-item">용면추월산 벚꽃축제</a>
                       <a href="tourDetailD2.html" class="navbar-item">담양대나무축제</a>
                       <a href="tourDetailD3.html" class="navbar-item">고서포도축제</a>						         
                  </div>
              </div>
              <div  class="navbar-item has-dropdown is-hoverable">
                  <a href="tourCateListE.html" class="navbar-link cate">
                  담양의 음식</a>
                  <div class="navbar-dropdown cate" id="cate05">
                       <a href="tourDetailE1.html" class="navbar-item">한우 떡갈비</a>
                       <a href="tourDetailE2.html" class="navbar-item">대통밥</a>
                       <a href="tourDetailE3.html" class="navbar-item">담양국수</a>							          
                  </div>
              </div>			
              <div class="navbar-item has-dropdown is-hoverable">
                  <a href="tourCateListF.html" class="navbar-link cate">
                  담양의 숙소</a>
                  <div class="navbar-dropdown cate" id="cate06">
                       <a href="tourDetailF1.html" class="navbar-item">힐링민박</a>
                       <a href="tourDetailF2.html" class="navbar-item">휴가림</a>
                       <a href="tourDetailF3.html" class="navbar-item">행복나드리 민박</a>          
                  </div>
              </div> 			
              <div class="navbar-item has-dropdown is-hoverable single">
                  <a class="navbar-link">고객센터</a>
                  <div class="navbar-dropdown single">
                       <a class="navbar-item" href="notice.html">공지사항</a>
                       <a class="navbar-item" href="QNA.html">묻고 답하기</a>
                       <a class="navbar-item" href="impress.html">이용후기</a>				        
                  </div>
              </div>		  
            <div class="navbar-end" id="tnb">
              <div class="navbar-item">		    	
                    <div class="buttons">
                      <a class="button is-primary" href="signUp.html">
                        <strong>회원가입</strong>
                      </a>
                      <a class="button is-focused" href="login.html">
                           로그인
                      </a>
                    </div>		  		
              </div>
            </div>
          </div>
          </nav>
		<script>
		$(document).ready(function(){
			$.ajax({
				url:"/pro03/MenuLoadCtrl.do",
				type:"POST",
				enctype:"UTF-8",
				datatype:"json",
				processData:false,
				contentType:false,
				cache:false,
				success:function(data){
					$(".navber-dropdown.cate").empty();
					var trans = $.parseJSON(data);
					$.each(trans, function(key, value){
						if(key=="data"){
							for(var i=0;i<value.length;i++){
								if(value[i].cate=="A"){
									$("#cate01").append("<a href='/pro03/GetTourDetailCtrl.do?no="+value[i].no+"'>"+value[i].place+"</a>");
								} else if(value[i].cate=="B"){
									$("#cate02").append("<a href='/pro03/GetTourDetailCtrl.do?no="+value[i].no+"'>"+value[i].place+"</a>");
								} else if(value[i].cate=="C"){
									$("#cate03").append("<a href='/pro03/GetTourDetailCtrl.do?no="+value[i].no+"'>"+value[i].place+"</a>");
								} else if(value[i].cate=="D"){
									$("#cate04").append("<a href='/pro03/GetTourDetailCtrl.do?no="+value[i].no+"'>"+value[i].place+"</a>");
								} else if(value[i].cate=="E"){
									$("#cate05").append("<a href='/pro03/GetTourDetailCtrl.do?no="+value[i].no+"'>"+value[i].place+"</a>");
								} else if(value[i].cate=="F"){
									$("#cate06").append("<a href='/pro03/GetTourDetailCtrl.do?no="+value[i].no+"'>"+value[i].place+"</a>");
								} 
							}
						}
					})
				}
			});
		})
		</script>
	</div>
</div>	
<section class = "section">
	<div class="container">
		<h2 class="title">회원가입</h2>
			<form name="frm1" id="frm1" action="" method="post" onsubmit="return joinCheck(this)">
				<table class="table">
					<tbody>
						<tr>
							<th>아이디</th>
							<td>
								<div class="form-row">
									<input type="text" name="id" id="id" placeholder="아이디 입력" class="input" autofocus required />
									<input type="button" class="button is-info" value="아이디 중복 확인" onclick="idCheck()">
									<input type="hidden" name="idck" id="idck" value="no">
								</div>
								<div>									
									<p id="msg" style="padding-left:0.5rem">아직 아이디 중복 체크를 하지 않으셨습니다.</p>					
								</div>
							</td>
						</tr>
						<tr>
							<th>비밀번호</th>
							<td><input type="password" name="pw" id="pw" placeholder="비밀번호 입력" class="input" required /></td>
						</tr>
						<tr>
							<th>비밀번호 확인</th>
							<td><input type="password" name="pw2" id="pw2" placeholder="비밀번호  확인 입력" class="input" required /></td>
						</tr>
						<tr>
							<th>회원이름</th>
							<td><input type="text" name="name" id="name" placeholder="이름 입력" class="input" required /></td>
						</tr>
						<tr>
							<th>이메일</th>
							<td><input type="email" name="email" id="email" placeholder="이메일 입력" class="input" required></td>
						</tr>
						<tr>
							<th>생년월일</th>
							<td><input type="date" name="birth" id="birth" placeholder="생년월일 입력" class="input" required></td>
						</tr>
						<tr>
							<th>연락처</th>
							<td><input type="tel" name="tel" id="tel" maxlength="11" placeholder="전화번호 숫자만 입력 00000000000" class="input" required></td>
						</tr>
						<tr>
							<th>주소</th>
							<td><input type="text" name="address1" id="address1" placeholder="기본 주소 입력" class="input" required /><br>
							<input type="text" name="address2" id="address2" placeholder="상세 주소 입력" class="input" required /><br>
							<input type="text" name="postcode" id="postcode" style="width:160px;float:left;margin-right:20px;" placeholder="우편번호" class="input">
							<button id="post_btn" onclick="findAddr()" class="button is-info">우편번호 검색</button>
							</td>
						</tr>
					</tbody>
				</table>
				<div class="buttons">
					<button type="submit" class="button is-info" value="회원가입">회원가입</button>
					<button type="reset" class="button is-focused" value="취소">취소</button>
					<a href="index.html" class="button is-focused">로그인</a>
				</div>
			</form>
			<script>
			$(document).ready(function(){
				$("#id").keyup(function(){
					$("#idck").val("no");
					if($(this).val()!=""){
						$("#msg").html("<strong>아이디 입력중입니다.</strong>");
					} else {
						$("#msg").html("아직 아이디 중복 체크를 하지 않으셨습니다.");
					}
				});
			});
			</script>
			<script>
			function idCheck(){
				if($("#id").val()==""){
					alert("아이디를 입력하지 않으셨습니다.");
					$("#id").focus();
					return;
				} 
				var params = {	id : $("#id").val()	} //전송되어질 데이터를 객체로 묶음
				$.ajax({
					url:"/pro03/IdCheckCtrl.do",	//아이디가 전송되어질 곳
					type:"post",		//전송방식
					dataType:"json",	//데이터 반환 방식
					data:params,		//전송방식이 post인 경우 객체로 묶어서 전송
					success:function(result){
						console.log(result.result);
						var idChk = result.result;	//true 또는 false를 받음
						if(idChk==false){	//사용할 수 없는 아이디
							$("#idck").val("no");
							$("#msg").html("<strong style='color:red'>기존에 사용되고 있는 아이디 입니다. 다시 입력하시기 바랍니다.</strong>");
							$("#id").focus();
						} else if(idChk==true){	//사용 가능한 아이디
							$("#idck").val("yes");
							$("#msg").html("<strong style='color:blue'>사용가능한 아이디 입니다.</strong>");
						} else if(idck==""){
							$("#msg").html("<strong>아이디가 확인되지 않았습니다. 다시 시도해주시기 바랍니다.</strong>");
						}
					}
				});
			}
			function joinCheck(f){
				if(f.pw.value!=f.pw2.value){
					alert("비밀번호와 비밀번호 확인이 서로 다릅니다.");
					f.pw.focus();
					return false;
				}
				if(f.idck.value!="yes"){
					alert("아이디 중복 체크를 하지 않으셨습니다.");
					return false;
				}
			}
			</script>
			<script>
			function findAddr() {
				new daum.Postcode({
					oncomplete: function(data) {
						console.log(data);
						var roadAddr = data.roadAddress;
						var jibunAddr = data.jibunAddress;
						document.getElementById("postcode").value = data.zonecode;
						if(roadAddr !== '') {
							document.getElementById("address1").value = roadAddr;				
						} else if(jibunAddr !== ''){
							document.getElementById("address1").value = jibunAddr;
						}
						document.getElementById("address2").focus();
					}
				}).open();
			}
			</script>
			<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
	</div>
</section>

<footer class="footer">
	<div class="content has-text-centered">
		<div class="ft_logo"><img src="./data/footer_logo.gif" alt="하단로고"></div>
		<div class="ft_content">
			<div class="select">
				<select name="sel" id="sel" class="sel" onchange="sel_link(this)">
					<option value="">부서별안내</option>
					<option value="">기획예산실</option>
					<option value="">행정과</option>
				</select>
			</div>
			<div class="select">	
				<select name="sel" id="sel" class="sel" onchange="sel_link(this)">
					<option value="">읍면 홈페이지</option>
					<option value="">담양읍</option>
					<option value="">봉산면</option>
				</select>
			</div>
			<div class="select">	
				<select name="sel" id="sel" class="sel" onchange="sel_link(this)">
					<option value="">관련사이트</option>
					<option value="">담양군의회</option>
					<option value="">문화관광</option>
				</select>
			</div>
			<div class="select">	
				<select name="sel" id="sel" class="sel" onchange="sel_link(this)">
					<option value="">유관기관</option>
					<option value="">담양경찰서</option>            
				</select>
			</div>  
			<div class="mid_box">
				<nav class="fnb">
				<a href="" class="dpc">저작권보호정책</a>
				<a href="" class="dpc">개인정보처리방침</a>
				<a href="" class="dpc">이메일무단수집거부</a>
				</nav>
				<p class="addr">(57339)전라남도 담양군 담양읍 추성로 1371 / 대표전화 061-380-3114</p>
				<p class="copyright">Copyright by Damyang-Gun. All Right Reserved.</p>
			</div>   
		</div>
	</div>
	<script>
	function sel_link(sel) {
		location.href = sel.value;
	}
	</script>
</footer>
</body>
</html>